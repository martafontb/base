<div class="cart-item" data-id="{{ item.key }}">
  <div class="cart-item__image">
    <a href="{{ item.url }}">
      <img
        src="{{ item.image | image_url: width: 160 }}"
        alt="{{ item.image.alt | escape }}"
        width="80"
        height="80"
        loading="lazy"
      >
    </a>
  </div>
  
  <div class="cart-item__content">
    <h3 class="cart-item__title">
      <a href="{{ item.url }}">{{ item.product_title }}</a>
    </h3>
    
    {%- if item.product.has_only_default_variant == false or item.properties.size > 0 -%}
      <div class="cart-item__options">
        {%- if item.product.has_only_default_variant == false -%}
          {%- for option in item.options_with_values -%}
            <p class="cart-item__option">
              <span>{{ option.name }}:</span>
              <span>{{ option.value }}</span>
            </p>
          {%- endfor -%}
        {%- endif -%}
        
        {%- if item.properties.size > 0 -%}
          {%- for property in item.properties -%}
            {%- assign property_first_char = property.first | slice: 0 -%}
            {%- if property.last != blank and property_first_char != '_' -%}
              <p class="cart-item__option">
                <span>{{ property.first }}:</span>
                <span>
                  {%- if property.last contains '/uploads/' -%}
                    <a href="{{ property.last }}" target="_blank">
                      {{ property.last | split: '/' | last }}
                    </a>
                  {%- else -%}
                    {{ property.last }}
                  {%- endif -%}
                </span>
              </p>
            {%- endif -%}
          {%- endfor -%}
        {%- endif -%}
      </div>
    {%- endif -%}
    
    <div class="cart-item__price-wrapper">
      <div class="cart-item__quantity">
        <label for="Quantity-{{ item.key }}" class="visually-hidden">{{ 'cart.quantity' | t }}</label>
        <input
          type="number"
          id="Quantity-{{ item.key }}"
          name="updates[{{ item.key }}]"
          value="{{ item.quantity }}"
          min="0"
          aria-label="{{ 'cart.quantity' | t }}"
          class="cart-item__qty-input"
          data-id="{{ item.key }}"
          data-index="{{ forloop.index }}"
        >
      </div>
      
      <div class="cart-item__price">
        {%- if item.original_line_price != item.final_line_price -%}
          <span class="cart-item__price-regular">{{ item.original_line_price | money }}</span>
          <span class="cart-item__price-sale">{{ item.final_line_price | money }}</span>
        {%- else -%}
          {{ item.original_line_price | money }}
        {%- endif -%}
      </div>
    </div>
  </div>
  
  <button 
    type="button" 
    class="cart-item__remove" 
    aria-label="{{ 'cart.remove_item' | t: title: item.title }}" 
    data-id="{{ item.key }}"
  >
    &times;
  </button>
</div>